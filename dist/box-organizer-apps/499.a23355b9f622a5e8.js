"use strict";(self.webpackChunkbox_organizer_apps=self.webpackChunkbox_organizer_apps||[]).push([[499],{8499:(M,s,t)=>{t.r(s),t.d(s,{ConfirmEmailComponent:()=>C});var p=t(467),g=t(5312),m=t(9183),f=t(3154),c=t(2881),n=t(1360),_=t(1114);function u(o,l){1&o&&(n.qex(0),n.j41(1,"p"),n.EFF(2,"Confirmando seu e\u2011mail..."),n.k0s(),n.nrm(3,"mat-spinner",2),n.bVm())}function d(o,l){1&o&&(n.j41(0,"p"),n.EFF(1," Voc\xea pode fechar esta aba e voltar ao aplicativo para fazer login. "),n.k0s())}function E(o,l){if(1&o&&(n.qex(0),n.j41(1,"h2"),n.EFF(2),n.k0s(),n.j41(3,"p"),n.EFF(4),n.k0s(),n.DNE(5,d,2,0,"p",1),n.bVm()),2&o){const e=n.XpG();n.R7$(2),n.JRh(e.success?"E\u2011mail Confirmado!":"Erro ao Confirmar"),n.R7$(2),n.JRh(e.message),n.R7$(),n.Y8G("ngIf",e.success)}}let C=(()=>{class o{route;router;message="Confirmando seu e-mail...";success=!1;loading=!0;constructor(e,a){this.route=e,this.router=a}ngOnInit(){var e=this;return(0,p.A)(function*(){const a=e.route.snapshot.queryParamMap.get("userId"),r=e.route.snapshot.queryParamMap.get("token");if(!a||!r)return e.message="Par\xe2metros inv\xe1lidos.",void(e.loading=!1);try{const i=`${g.c.apiUrl}/users/v1/confirm-email?userId=${a}&token=${encodeURIComponent(r)}`,P=yield f.A.get(i);e.message=P.data,e.success=!0}catch(i){console.error(i),e.message=i?.response?.data?.[0]?.description||"Erro ao confirmar o e-mail."}finally{e.loading=!1}})()}static \u0275fac=function(a){return new(a||o)(n.rXU(_.nX),n.rXU(_.Ix))};static \u0275cmp=n.VBU({type:o,selectors:[["app-confirm-email"]],decls:3,vars:2,consts:[[1,"email-confirmation"],[4,"ngIf"],["diameter","48","strokeWidth","4"]],template:function(a,r){1&a&&(n.j41(0,"div",0),n.DNE(1,u,4,0,"ng-container",1)(2,E,6,3,"ng-container",1),n.k0s()),2&a&&(n.R7$(),n.Y8G("ngIf",r.loading),n.R7$(),n.Y8G("ngIf",!r.loading))},dependencies:[c.MD,c.bT,m.D6,m.LG],styles:[".email-confirmation[_ngcontent-%COMP%]{max-width:500px;margin:3rem auto;padding:2rem;border:1px solid #ccc;border-radius:8px;text-align:center;background:#f9f9f9}.email-confirmation[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:1rem}.email-confirmation[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{width:24px!important;height:24px!important;display:flex;align-items:center;justify-content:center;gap:.5rem;margin:1rem auto}.email-confirmation[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:24px!important;height:24px!important}"]})}return o})()}}]);